(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{594:function(t,s,a){t.exports=a.p+"assets/img/1.f5964e2c.png"},595:function(t,s,a){t.exports=a.p+"assets/img/2.030a8486.png"},596:function(t,s,a){t.exports=a.p+"assets/img/3.ae762fec.png"},597:function(t,s,a){t.exports=a.p+"assets/img/4.ba7b75d9.png"},598:function(t,s,a){t.exports=a.p+"assets/img/5.24e85ae6.png"},599:function(t,s,a){t.exports=a.p+"assets/img/6.10bd9d42.png"},600:function(t,s,a){t.exports=a.p+"assets/img/7.6cf07cd8.png"},601:function(t,s,a){t.exports=a.p+"assets/img/8.1358b84a.png"},602:function(t,s,a){t.exports=a.p+"assets/img/9.fdd66a61.png"},603:function(t,s,a){t.exports=a.p+"assets/img/10.24adecf1.png"},604:function(t,s,a){t.exports=a.p+"assets/img/11.e24db380.png"},756:function(t,s,a){"use strict";a.r(s);var n=a(3),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"react-历史与应用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#react-历史与应用"}},[t._v("#")]),t._v(" React 历史与应用")]),t._v(" "),n("ol",[n("li",[t._v("前端应用开发，如 Facebook、Instagram、Netflix 网页版")]),t._v(" "),n("li",[t._v("移动原生应用开发，如 Instagram、Discord、Oculus")]),t._v(" "),n("li",[t._v("结合 Electron ，进行桌面应用开发")]),t._v(" "),n("li",[t._v("基于 webGL 开发 3D 应用")])]),t._v(" "),n("ul",[n("li",[t._v("2010 年，Facebook 在其 php 生态中，引入了 xhp 框架，首次引入了组合式组件的思想，启发了后来的 React 的设计。")]),t._v(" "),n("li",[t._v("2011 年，Jordan Walke 创造了 FaxJS，也就是后来的 React 原型:")]),t._v(" "),n("li",[t._v("2012 年，在 Facebook 收购 Instagram 后，该 FaxJS 项目在内部得到使用，Jordan Walke 基于 FaxJS 的经验，创造了 React。")]),t._v(" "),n("li",[t._v("2013 年，React 正式开源，在 2013 JSConf 上 Jordan Walke 介绍了这款全新的框架:")])]),t._v(" "),n("blockquote",[n("p",[t._v("React —— A "),n("strong",[t._v("JavaScript library")]),t._v(" for building user interfaces.")])]),t._v(" "),n("ul",[n("li",[t._v("2014 年—今，生态大爆发，各种围绕 React 的新工具/新框架开始涌现")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(594),alt:"image-20220120203319599"}})]),t._v(" "),n("h2",{attrs:{id:"react-的设计思路"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#react-的设计思路"}},[t._v("#")]),t._v(" React 的设计思路")]),t._v(" "),n("h3",{attrs:{id:"ui-编程痛点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ui-编程痛点"}},[t._v("#")]),t._v(" UI 编程痛点")]),t._v(" "),n("p",[n("img",{attrs:{src:a(595),alt:"image-20220120203651097"}})]),t._v(" "),n("ol",[n("li",[t._v("状态更新，UI 不会自动更新，需要手动的调用 DOM 进行更新")]),t._v(" "),n("li",[t._v("欠缺基本的代码层面的封装和隔离，代码层面没有组件化。")]),t._v(" "),n("li",[t._v("UI 之间的数据依赖关系，需要手动维护，如果依赖链路长，则会遇到 callback hell")])]),t._v(" "),n("h3",{attrs:{id:"响应式与转换式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#响应式与转换式"}},[t._v("#")]),t._v(" 响应式与转换式")]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("转换式")]),t._v("系统：给定 "),n("strong",[t._v("输入")]),t._v(" 求解 "),n("strong",[t._v("输出")]),t._v(" "),n("ul",[n("li",[t._v("编译器、数值计算")])])]),t._v(" "),n("li",[n("strong",[t._v("响应式")]),t._v("系统："),n("strong",[t._v("监听事件")]),t._v("、"),n("strong",[t._v("消息驱动")]),t._v(" "),n("ul",[n("li",[t._v("监控系统、UI 界面")])])])]),t._v(" "),n("p",[n("strong",[t._v("响应式系统：事件 ——> 执行既定的回调 ——> 状态变更 ——> UI 更新")])]),t._v(" "),n("h3",{attrs:{id:"响应式编程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#响应式编程"}},[t._v("#")]),t._v(" 响应式编程")]),t._v(" "),n("ol",[n("li",[t._v("状态更新，UI 自动更新")]),t._v(" "),n("li",[t._v("前端代码组件化，可复用、可封装")]),t._v(" "),n("li",[t._v("状态之间的互相依赖关系，只需声明即可")])]),t._v(" "),n("h3",{attrs:{id:"组件化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#组件化"}},[t._v("#")]),t._v(" 组件化")]),t._v(" "),n("p",[n("img",{attrs:{src:a(596),alt:"image-20220120211956234"}})]),t._v(" "),n("ol",[n("li",[t._v("组件是 组件的组合/原子组件")]),t._v(" "),n("li",[t._v("组件内拥有状态，外部不可见")]),t._v(" "),n("li",[t._v("父组件可将状态传入组件内部")])]),t._v(" "),n("h3",{attrs:{id:"状态归属"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#状态归属"}},[t._v("#")]),t._v(" 状态归属")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("当前价格属于 "),n("strong",[t._v("root")]),t._v(" 节点")])]),t._v(" "),n("li",[n("p",[t._v("状态归属于两个节点向上寻找到最近的祖宗节点")])]),t._v(" "),n("li",[n("p",[t._v("改变当前价格，将 root 节点的 改变价格函数向下传递到子组件，子组件只是调用函数。")]),t._v(" "),n("p",[n("img",{attrs:{src:a(597),alt:"image-20220121101624017"}})])]),t._v(" "),n("li",[n("p",[t._v("react 是单向数据流，只能由父传子，如果子要改变父的状态，可调用父传过来的函数。")])])]),t._v(" "),n("h3",{attrs:{id:"组件设计"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#组件设计"}},[t._v("#")]),t._v(" 组件设计")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("组件声明了状态和 UI 的映射。")])]),t._v(" "),n("li",[n("p",[t._v("组件有 Props/State 两种状态。")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("组件内部拥有私有状态 State。")])]),t._v(" "),n("li",[n("p",[t._v("组件接受外部的 Props 状态提供复用性。")])]),t._v(" "),n("li",[n("p",[t._v("根据当前的 State/Props,返回一个 UI。")])])])]),t._v(" "),n("li",[n("p",[t._v("“组件”可由其他组件拼装而成。")])])]),t._v(" "),n("p",[t._v("想象的组件代码的样子（语法不一定是对的）")]),t._v(" "),n("div",{staticClass:"language-jsx line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-jsx"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Component")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// props 是父组件传入的状态")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" url "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" props\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'点击我'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 私有状态")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 返回一个UI")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SubComponent")])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("props")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{ color: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("red"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v(" }}"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SubComponent")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),n("span",{pre:!0,attrs:{class:"token script language-javascript"}},[n("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("img")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("text"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n    ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br")])]),n("h3",{attrs:{id:"生命周期"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#生命周期"}},[t._v("#")]),t._v(" 生命周期")]),t._v(" "),n("p",[n("img",{attrs:{src:a(598),alt:"image-20220121102848371"}})]),t._v(" "),n("h2",{attrs:{id:"react-hooks-写法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#react-hooks-写法"}},[t._v("#")]),t._v(" React（hooks）写法")]),t._v(" "),n("div",{staticClass:"language-jsx line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-jsx"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" useEffect "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Example")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 声明一个新状态，需要调用useState，返回一个状态和一个改变状态的函数")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("count"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setCount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 副作用，影响组件外部的操作，挂载时执行和状态改变时执行")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 改变网页标题")]),t._v("\n    document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("you clicked ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("count"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v(" times")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("clicked ")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("count"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v(" times")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onClick")]),n("span",{pre:!0,attrs:{class:"token script language-javascript"}},[n("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCount")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("Click me")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n    ")]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br")])]),n("h2",{attrs:{id:"react-的实现"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#react-的实现"}},[t._v("#")]),t._v(" React 的实现")]),t._v(" "),n("h3",{attrs:{id:"problems"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#problems"}},[t._v("#")]),t._v(" Problems")]),t._v(" "),n("ol",[n("li",[t._v("JSX 不符合 JS 标准语法")]),t._v(" "),n("li",[t._v("返回的 JSX 发生改变时，如何更新 DOM")]),t._v(" "),n("li",[t._v("State/ props 更新时要重新触发 render 函数（就是组件本身函数重新执行）")])]),t._v(" "),n("h3",{attrs:{id:"问题-1-jsx-不符合-js-标准语法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#问题-1-jsx-不符合-js-标准语法"}},[t._v("#")]),t._v(" 问题 1：JSX 不符合 JS 标准语法")]),t._v(" "),n("ul",[n("li",[t._v("语法转译")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(599),alt:"image-20220121104549798"}})]),t._v(" "),n("h3",{attrs:{id:"问题-2-如何更新-dom"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#问题-2-如何更新-dom"}},[t._v("#")]),t._v(" 问题 2：如何更新 DOM")]),t._v(" "),n("p",[n("strong",[t._v("Virtual DOM（虚拟 DOM）")])]),t._v(" "),n("ul",[n("li",[t._v("Virtual DOM 是一种用于和真实 DOM 同步，而在 JS 内存中维护的一个对象，它具有和 DOM 类似的树状结构，并和 DOM 可以建立一一对应的关系。")]),t._v(" "),n("li",[t._v("它赋予了 React 声明式的 API：您告诉 React 希望让 UI 是什么状态，React 就确保 DOM 匹配该状态。")]),t._v(" "),n("li",[t._v("这使您可以从属性操作、事件处理和手动 DOM 更新这些在构建应用程序时必要的操作中解放出来。")])]),t._v(" "),n("h3",{attrs:{id:"问题-3-state-props-更新时重新触发-render-函数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#问题-3-state-props-更新时重新触发-render-函数"}},[t._v("#")]),t._v(" 问题 3：State/ props 更新时重新触发 render 函数")]),t._v(" "),n("p",[n("img",{attrs:{src:a(600),alt:"image-20220121105315826"}})]),t._v(" "),n("p",[n("strong",[t._v("Diff")]),t._v(" 权衡")]),t._v(" "),n("ul",[n("li",[t._v("更新次数少")]),t._v(" "),n("li",[t._v("计算速度快")])]),t._v(" "),n("blockquote",[n("p",[t._v("完美的最小 Diff 算法，需要 O(n^3) 的复杂度")]),t._v(" "),n("p",[t._v("牺牲理论最小 Diff ，换取时间，得到 O(n) 复杂度的算法：")]),t._v(" "),n("p",[t._v("Heuristic O(n) Algorithm")])]),t._v(" "),n("p",[n("strong",[t._v("How to Diff：")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("不同类型的元素")]),t._v(" "),n("th",[t._v("替换")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("同类型的 DOM 元素")]),t._v(" "),n("td",[t._v("更新")])]),t._v(" "),n("tr",[n("td",[t._v("同类型的组件元素")]),t._v(" "),n("td",[t._v("递归")])])])]),t._v(" "),n("h2",{attrs:{id:"react-状态管理库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#react-状态管理库"}},[t._v("#")]),t._v(" React 状态管理库")]),t._v(" "),n("h3",{attrs:{id:"核心思想"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#核心思想"}},[t._v("#")]),t._v(" 核心思想")]),t._v(" "),n("p",[n("strong",[t._v("将状态抽离到 UI 外部进行统一管理")])]),t._v(" "),n("ul",[n("li",[t._v("类似于页面所有组件整合是一个组件，store 是这个组件的状态")])]),t._v(" "),n("blockquote",[n("p",[t._v("弊端：会降低组件的复用性。")]),t._v(" "),n("p",[t._v("业务代码使用，比如说用户信息")]),t._v(" "),n("p",[t._v("库不会使用")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(601),alt:"image-20220121110641735"}})]),t._v(" "),n("h3",{attrs:{id:"推荐库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#推荐库"}},[t._v("#")]),t._v(" 推荐库")]),t._v(" "),n("p",[n("img",{attrs:{src:a(602),alt:"image-20220121111147232"}})]),t._v(" "),n("ul",[n("li",[t._v("xstate 是基于 "),n("strong",[t._v("状态机")]),t._v(" 设计的")])]),t._v(" "),n("h3",{attrs:{id:"状态机"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#状态机"}},[t._v("#")]),t._v(" 状态机")]),t._v(" "),n("blockquote",[n("p",[t._v("当前状态，收到外部事件,迁移到下一个状态")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(603),alt:"image-20220121111354532"}})]),t._v(" "),n("p",[t._v("字节的 Modern.js 的状态管理库 reduck")]),t._v(" "),n("h2",{attrs:{id:"应用级框架科普"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#应用级框架科普"}},[t._v("#")]),t._v(" 应用级框架科普")]),t._v(" "),n("p",[n("img",{attrs:{src:a(604),alt:"image-20220121112348611"}})])])}),[],!1,null,null,null);s.default=r.exports}}]);